@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  /* Componentes customizados */
  .chat-message {
    @apply p-4 rounded-lg mb-4 max-w-4xl animate-slide-up;
  }
  
  .chat-message.user {
    @apply bg-primary-50 border border-primary-200 ml-auto;
  }
  
  .chat-message.assistant {
    @apply bg-white border border-gray-200 shadow-soft;
  }
  
  .chat-input {
    @apply w-full p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none;
  }
  
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  
  .btn-secondary {
    @apply bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2;
  }
  
  .sidebar {
    @apply bg-white border-r border-gray-200 h-full overflow-y-auto;
  }
  
  .conversation-item {
    @apply p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 transition-colors duration-150;
  }
  
  .conversation-item.active {
    @apply bg-primary-50 border-primary-200;
  }
  
  .status-badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }
  
  .status-badge.online {
    @apply bg-success-50 text-success-600;
  }
  
  .status-badge.offline {
    @apply bg-error-50 text-error-600;
  }
  
  .status-badge.demo {
    @apply bg-warning-50 text-warning-600;
  }
  
  .loading-dots {
    @apply inline-flex space-x-1;
  }
  
  .loading-dots span {
    @apply w-2 h-2 bg-primary-400 rounded-full animate-bounce;
  }
  
  .loading-dots span:nth-child(2) {
    animation-delay: 0.1s;
  }
  
  .loading-dots span:nth-child(3) {
    animation-delay: 0.2s;
  }
  
  .scroll-area {
    @apply overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100;
  }
  
  /* Scrollbar customizado */
  .scrollbar-thin {
    scrollbar-width: thin;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .text-pretty {
    text-wrap: pretty;
  }
  
  .bg-gradient-primary {
    background: linear-gradient(135deg, #4a7c59 0%, #2d5a27 100%);
  }
  
  .bg-gradient-soft {
    background: linear-gradient(135deg, #f0f9f0 0%, #dcf2dc 100%);
  }
  
  .shadow-glow {
    box-shadow: 0 0 20px rgba(74, 124, 89, 0.3);
  }
  
  .border-gradient {
    border-image: linear-gradient(135deg, #4a7c59, #2d5a27) 1;
  }
}

/* Animações personalizadas */
@keyframes typing {
  from { width: 0 }
  to { width: 100% }
}

@keyframes blink-caret {
  from, to { border-color: transparent }
  50% { border-color: #4a7c59 }
}

.typing-animation {
  overflow: hidden;
  border-right: 2px solid #4a7c59;
  white-space: nowrap;
  animation: typing 2s steps(40, end), blink-caret 0.75s step-end infinite;
}

/* Responsividade */
@media (max-width: 768px) {
  .chat-message {
    @apply mx-2;
  }
  
  .sidebar {
    @apply fixed inset-y-0 left-0 z-50 w-64 transform transition-transform duration-300 ease-in-out;
  }
  
  .sidebar.closed {
    @apply -translate-x-full;
  }
}

/* Modo escuro (preparação futura) */
@media (prefers-color-scheme: dark) {
  :root {
    --background: 222.2% 84% 4.9%;
    --foreground: 210% 40% 98%;
  }
}

/* Acessibilidade */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Print styles */
@media print {
  .sidebar,
  .chat-input,
  button {
    @apply hidden;
  }
  
  .chat-message {
    @apply break-inside-avoid;
  }
}

